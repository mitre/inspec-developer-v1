(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{373:function(s,t,a){s.exports=a.p+"assets/img/Heimdall_Results.d5f09a46.png"},426:function(s,t,a){s.exports=a.p+"assets/img/InSpec_Failure.dd02fb0c.png"},427:function(s,t,a){s.exports=a.p+"assets/img/InSpec_Pass.226372a3.png"},428:function(s,t,a){s.exports=a.p+"assets/img/InSpec_Multiple_Controls.0721ae73.png"},447:function(s,t,a){"use strict";a.r(t);var e=a(65),n=Object(e.a)({},(function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[e("h2",{attrs:{id:"_2-starting-the-journey"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-starting-the-journey"}},[s._v("#")]),s._v(" 2. Starting the Journey")]),s._v(" "),e("h3",{attrs:{id:"inspec-profiles"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#inspec-profiles"}},[s._v("#")]),s._v(" InSpec Profiles")]),s._v(" "),e("p",[s._v("InSpec organizes its work in what it calls "),e("code",[s._v("Profiles")]),s._v(". A "),e("code",[s._v("profile")]),s._v(" is a set of automated tests that usually relates directly back to a Security Requirements Benchmark - like a CIS Benchmark or a DISA Security Technical Implementation Guide (STIG) - and provides an organized structure to articulate that set of requirements and tests in code.")]),s._v(" "),e("p",[s._v("Profiles have four (2) required elements:")]),s._v(" "),e("ul",[e("li",[s._v("An "),e("code",[s._v("inspec.yml")]),s._v(" file")]),s._v(" "),e("li",[s._v("A "),e("code",[s._v("controls")]),s._v(" directory")])]),s._v(" "),e("p",[s._v("and four (4) optional elements:")]),s._v(" "),e("ul",[e("li",[s._v("A "),e("code",[s._v("libraries")]),s._v(" directory")]),s._v(" "),e("li",[s._v("A "),e("code",[s._v("files")]),s._v(" directory")]),s._v(" "),e("li",[s._v("An "),e("code",[s._v("inputs.yml")]),s._v(" file")]),s._v(" "),e("li",[s._v("A "),e("code",[s._v("README.md")]),s._v(" file")])]),s._v(" "),e("p",[s._v("You can learn all the details here: "),e("a",{attrs:{href:"https://docs.chef.io/inspec/profiles/",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://docs.chef.io/inspec/profiles/"),e("OutboundLink")],1)]),s._v(" "),e("p",[s._v("We will be going over each of these durning our class.")]),s._v(" "),e("h3",{attrs:{id:"_2-1-inspec-profile-structure"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-inspec-profile-structure"}},[s._v("#")]),s._v(" 2.1. InSpec Profile Structure")]),s._v(" "),e("div",{staticClass:"language-sh line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-sh"}},[e("code",[s._v("$ tree nginx\n      nginx\n      └── profile\n          ├── README.md\n          ├── inputs.yml\n          ├── controls\n          │   ├── V-2230.rb\n          │   └── V-2232.rb\n          ├── files\n          │   └── services-and-ports.yml\n          ├── inspec.yml\n          └── libraries\n              └── nginx_helper.rb\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br")])]),e("hr"),s._v(" "),e("h3",{attrs:{id:"_2-2-inspec-controls-structure"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-inspec-controls-structure"}},[s._v("#")]),s._v(" 2.2. InSpec Controls Structure")]),s._v(" "),e("div",{staticClass:"language-ruby line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-ruby"}},[e("code",[s._v("control "),e("span",{pre:!0,attrs:{class:"token string-literal"}},[e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"V-13727"')])]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("do")]),s._v("\n  title "),e("span",{pre:!0,attrs:{class:"token string-literal"}},[e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"The worker_processes StartServers directive must be set properly."')])]),s._v('\n\n  desc "These requirements are set to mitigate the effects of several types of\n  denial of service attacks'),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v(" Although there is some latitude concerning the\n  settings themselves"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" the requirements attempt to provide reasonable limits\n  "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" the protection of the web server"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v(" If necessary"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" these limits can be\n  adjusted to accommodate the operational requirement of a given system"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v('"\n\n  impact '),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.5")]),s._v("\n  tag "),e("span",{pre:!0,attrs:{class:"token string-literal"}},[e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"severity"')])]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string-literal"}},[e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"medium"')])]),s._v("\n  tag "),e("span",{pre:!0,attrs:{class:"token string-literal"}},[e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"gtitle"')])]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string-literal"}},[e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"WA000-WWA026"')])]),s._v("\n  tag "),e("span",{pre:!0,attrs:{class:"token string-literal"}},[e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"gid"')])]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string-literal"}},[e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"V-13727"')])]),s._v("\n  tag "),e("span",{pre:!0,attrs:{class:"token string-literal"}},[e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"rid"')])]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string-literal"}},[e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"SV-36645r2_rule"')])]),s._v("\n  tag "),e("span",{pre:!0,attrs:{class:"token string-literal"}},[e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"stig_id"')])]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string-literal"}},[e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"WA000-WWA026 A22"')])]),s._v("\n  tag "),e("span",{pre:!0,attrs:{class:"token string-literal"}},[e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"nist"')])]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),e("span",{pre:!0,attrs:{class:"token string-literal"}},[e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"CM-6"')])]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string-literal"}},[e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Rev_4"')])]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n\n  tag "),e("span",{pre:!0,attrs:{class:"token string-literal"}},[e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"check"')])]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(' "To view the worker_processes directive value enter the\n  following command'),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v("\n  grep "),e("span",{pre:!0,attrs:{class:"token string-literal"}},[e("span",{pre:!0,attrs:{class:"token string"}},[s._v('""')])]),s._v("worker_processes"),e("span",{pre:!0,attrs:{class:"token string-literal"}},[e("span",{pre:!0,attrs:{class:"token string"}},[s._v('""')])]),s._v(" on the nginx"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("conf file "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("and")]),s._v(" any separate included\n  configuration files\n  If the value of "),e("span",{pre:!0,attrs:{class:"token string-literal"}},[e("span",{pre:!0,attrs:{class:"token string"}},[s._v('""')])]),s._v("worker_processes"),e("span",{pre:!0,attrs:{class:"token string-literal"}},[e("span",{pre:!0,attrs:{class:"token string"}},[s._v('""')])]),s._v(" is "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("not")]),s._v(" set to auto "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("or")]),s._v(" explicitly set"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  this is a finding"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v("\n  worker_processes   auto"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  worker_processes defines the number of worker processes"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v(" The optimal value\n  depends on many factors including "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("but "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("not")]),s._v(" limited to"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" the number of "),e("span",{pre:!0,attrs:{class:"token constant"}},[s._v("CPU")]),s._v("\n  cores"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" the number of hard disk drives that store data"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("and")]),s._v(" load pattern"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v(" When\n  one is "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" doubt"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" setting it to the number of available "),e("span",{pre:!0,attrs:{class:"token constant"}},[s._v("CPU")]),s._v(" cores would be a\n  good start "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("the value “auto” will try to autodetect it"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v('"\n\n  tag '),e("span",{pre:!0,attrs:{class:"token string-literal"}},[e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"fix"')])]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(' "Edit the configuration file '),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("and")]),s._v(" set the value of\n  "),e("span",{pre:!0,attrs:{class:"token string-literal"}},[e("span",{pre:!0,attrs:{class:"token string"}},[s._v('""')])]),s._v("worker_processes"),e("span",{pre:!0,attrs:{class:"token string-literal"}},[e("span",{pre:!0,attrs:{class:"token string"}},[s._v('""')])]),s._v(" to the value of auto "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("or")]),s._v(" a value of "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("or")]),s._v(" higher"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v("\n  worker_processes auto"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v('"\n\n  describe nginx_conf'),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),e("span",{pre:!0,attrs:{class:"token constant"}},[s._v("NGINX_CONF_FILE")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("params"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),e("span",{pre:!0,attrs:{class:"token string-literal"}},[e("span",{pre:!0,attrs:{class:"token string"}},[s._v("'worker_processes'")])]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("do")]),s._v("\n    it "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" should cmp "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),e("span",{pre:!0,attrs:{class:"token string-literal"}},[e("span",{pre:!0,attrs:{class:"token string"}},[s._v("'auto'")])]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n  "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("end")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("end")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br"),e("span",{staticClass:"line-number"},[s._v("14")]),e("br"),e("span",{staticClass:"line-number"},[s._v("15")]),e("br"),e("span",{staticClass:"line-number"},[s._v("16")]),e("br"),e("span",{staticClass:"line-number"},[s._v("17")]),e("br"),e("span",{staticClass:"line-number"},[s._v("18")]),e("br"),e("span",{staticClass:"line-number"},[s._v("19")]),e("br"),e("span",{staticClass:"line-number"},[s._v("20")]),e("br"),e("span",{staticClass:"line-number"},[s._v("21")]),e("br"),e("span",{staticClass:"line-number"},[s._v("22")]),e("br"),e("span",{staticClass:"line-number"},[s._v("23")]),e("br"),e("span",{staticClass:"line-number"},[s._v("24")]),e("br"),e("span",{staticClass:"line-number"},[s._v("25")]),e("br"),e("span",{staticClass:"line-number"},[s._v("26")]),e("br"),e("span",{staticClass:"line-number"},[s._v("27")]),e("br"),e("span",{staticClass:"line-number"},[s._v("28")]),e("br"),e("span",{staticClass:"line-number"},[s._v("29")]),e("br"),e("span",{staticClass:"line-number"},[s._v("30")]),e("br"),e("span",{staticClass:"line-number"},[s._v("31")]),e("br"),e("span",{staticClass:"line-number"},[s._v("32")]),e("br"),e("span",{staticClass:"line-number"},[s._v("33")]),e("br"),e("span",{staticClass:"line-number"},[s._v("34")]),e("br"),e("span",{staticClass:"line-number"},[s._v("35")]),e("br"),e("span",{staticClass:"line-number"},[s._v("36")]),e("br"),e("span",{staticClass:"line-number"},[s._v("37")]),e("br"),e("span",{staticClass:"line-number"},[s._v("38")]),e("br")])]),e("h3",{attrs:{id:"_2-3-inspec-results"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-inspec-results"}},[s._v("#")]),s._v(" 2.3. InSpec Results")]),s._v(" "),e("h4",{attrs:{id:"_2-3-1-failure"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-1-failure"}},[s._v("#")]),s._v(" 2.3.1. Failure")]),s._v(" "),e("p",[e("img",{attrs:{src:a(426),alt:"Alt text"}})]),s._v(" "),e("h4",{attrs:{id:"_2-3-2-pass"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-2-pass"}},[s._v("#")]),s._v(" 2.3.2. Pass")]),s._v(" "),e("p",[e("img",{attrs:{src:a(427),alt:"Alt text"}})]),s._v(" "),e("h4",{attrs:{id:"_2-3-3-multiple-controls"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-3-multiple-controls"}},[s._v("#")]),s._v(" 2.3.3. Multiple Controls")]),s._v(" "),e("p",[e("img",{attrs:{src:a(428),alt:"Alt text"}})]),s._v(" "),e("h3",{attrs:{id:"_2-4-tooling-and-reporting"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-4-tooling-and-reporting"}},[s._v("#")]),s._v(" 2.4. Tooling and Reporting")]),s._v(" "),e("p",[e("img",{attrs:{src:a(373),alt:"Alt text"}})])])}),[],!1,null,null,null);t.default=n.exports}}]);